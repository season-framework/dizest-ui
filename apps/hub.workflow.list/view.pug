.workflow-list(ng-cloak)
    .workflow-list-header
        .page-header.d-print-none
            .row.align-items-center
                .col-auto
                    .text-blue.mr-1(style="font-size: 28px;")
                        i.fa-solid.fa-cubes
                .col
                    h2.page-title= dic("title")
                    .text-muted
                        ul.list-inline.list-inline-dots.mb-0
                            li.list-inline-item= dic("desc")

                .col-auto.actions.area-round
                    input.form-control(style="width: 240px;" ng-model="workflow.query.text" ng-enter="workflow.search(true)" placeholder="Enter for search")
                
                .col-auto.actions.area-round
                    a.btn.btn-primary(ng-click="workflow.import()")
                        i.fa-solid.fa-cloud-arrow-up
                    a.btn.btn-primary(ng-click="explore.open()")
                        i.fa-solid.fa-plus

    .workflow-list-item
        .container.pt-4
            .row.row-deck.row-cards
                .col-md-3.p-3(ng-repeat="item in workflow.data")
                    .card(ng-click="workflow.click(item)")
                        .card-body.p-0.featured-area
                            .status-area(ng-if="item.status != 'stop'" class="{{workflow.status_class(item)}}")
                                span {{item.status}}
                                
                            .img-responsive(style="position: relative; background-image: url('{{item.featured}}')")
                                svg(viewBox="0 0 16 9")
                                    rect(width="16" height="12" style="fill:rgba(255,255,255,0);")

                        .card-footer.d-flex(style="align-items: center;")
                            .avatar-area.avatar-area-sm.mr-3
                                .avatar-container
                                    span.avatar(style="background-image: url({{item.logo}})")
                            .text-area
                                h3.card-title.mb-0
                                    .text-reset(style="font-size: 16px; white-space: nowrap; word-break: break-all; width: 168px; overflow: hidden; text-overflow: ellipsis;") {{item.title}}
                                small.text-muted {{item.updated}}
    
    .workflow-pagenation
        .pagenation.text-center.area-round(ng-if="workflow.pager.pages.length > 0")
            button.btn.btn-square.btn-sm.btn-light.pt-1.pb-1(ng-click="workflow.page(Math.floor((workflow.query.page-1) / 10) * 10 - 9)" ng-class="(workflow.query.page-1)/10 < 1 ? 'disabled' : ''")
                i.fas.fa-angle-double-left
            button.btn.btn-square.btn-sm.btn-light.pt-1.pb-1(ng-click="workflow.page(workflow.query.page*1-1)" ng-class="workflow.query.page == 1 ? 'disabled' : ''")
                i.fas.fa-angle-left
            button.btn.btn-square.btn-sm.mr-1.ml-1(ng-repeat="p in workflow.pager.pages" ng-class="p == workflow.query.page ? 'btn-primary' : ''" ng-click="workflow.page(p)") {{p}}
            button.btn.btn-square.btn-sm.btn-light.pt-1.pb-1(ng-click="workflow.page(workflow.query.page*1+1)" ng-class="workflow.query.page == workflow.pager.lastpage ? 'disabled' : ''")
                i.fas.fa-angle-right
            button.btn.btn-square.btn-sm.btn-light.pt-1.pb-1(ng-click="workflow.page(Math.ceil((workflow.query.page) / 10) * 10 + 1)" ng-class="workflow.query.page == workflow.pager.lastpage ? 'disabled' : ''")
                i.fas.fa-angle-double-right

    .modal.fade#import-modal(tabindex="-1")
        .modal-dialog
            .modal-content
                .modal-header
                    h5.modal-title Workflow Import
                    button.btn-close(type="button" data-bs-dismiss="modal" aria-label="Close")
                .modal-body.bg-white
                    .form-group.row.mb-3
                        label.form-label.col-3.col-form-label Title
                        .col
                            input.form-control(type="text" placeholder="Workflow Title" ng-model="workflow.importdata.title")
                    
                    .form-group.row.mb-3
                        label.form-label.col-3.col-form-label Version
                        .col
                            input.form-control(type="text" placeholder="1.0.0" ng-model="workflow.importdata.version")

                    .form-group.row
                        label.form-label.col-3.col-form-label Visibility
                        .col
                            .form-selectgroup
                                label.form-selectgroup-item
                                    input.form-selectgroup-input(type="radio" name="visibility" value="public" ng-model="workflow.importdata.visibility")
                                    span.form-selectgroup-label
                                        i.fa-solid.fa-share-nodes.mr-2
                                        span Public

                                label.form-selectgroup-item
                                    input.form-selectgroup-input(type="radio" name="visibility" value="private" ng-model="workflow.importdata.visibility")
                                    span.form-selectgroup-label
                                        i.fa-solid.fa-lock.mr-2
                                        span Private
                
                .modal-body.bg-white.p-1

                .modal-footer.d-flex.bg-white
                    button.btn.btn-white(style="border-radius: 16px;" type="button" data-bs-dismiss="modal") Cancel
                    .mr-auto
                    button.btn.btn-primary(style="border-radius: 16px;" type="button" ng-click="workflow.create()") Import
